<div class="container mt-3 p-3 rounded cart">
  <div class="row no-gutters">
    <div class="col-lg-8 col-md-12">
      <div class="product-details mx-2">
        <div class="d-flex flex-row align-items-center">
          <a href="/mealkits" style="color:red"><i class="fa fa-long-arrow-left"></i></a>
          <span class="mx-2">Continue Shopping</span>
        </div>
        <hr />
        <h6 class="mb-0">Shopping cart</h6>
        <%if(viewModel.meals.length) {%>
        <div class="d-flex justify-content-between">
            <span>You have 
                <% 
                let totalQuantity = 0;
                viewModel.meals.forEach(cartMeal => { 
                    totalQuantity += cartMeal.quantity; 
                }); 
                %>
                <%= totalQuantity %> items in your cart
                </span>
        </div>
        <%viewModel.meals.forEach(cartMeal => {%> <%-
        include('../mealkits/mealkitCart', {mealkit:cartMeal}) %> <%}); %> <%}
        else {;%>
        <div class="d-flex justify-content-center">
          <div class="row">
            <div class="col-md">
                <div class="card-body cart">
                  <div class="col-sm-12 empty-cart-cls text-center">
                    <img
                      src="https://www.pngall.com/wp-content/uploads/5/Empty-Red-Shopping-Cart.png"
                      width="130"
                      height="130"
                      class="img-fluid mb-4 mr-3"
                    />
                    <h3>Your Cart is Empty</h3>
                    <p>Looks like you haven't made your choice yet...</p>
                    <a
                      href="/mealkits"
                      class="btn cart-btn-transform m-3"
                      data-abc="true"
                      id="log-in"
                      >Back to Menu</a
                    >
                </div>
              </div>
            </div>
          </div>
        </div>
        <%};%>
      </div>
    </div>
    <div class="col">
      <div class="payment-info">
        <div class="d-flex justify-content-between align-items-center">
          <span>Card details</span
          ><img
            class="rounded"
            src="https://i.imgur.com/WU501C8.jpg"
            width="30"
          />
        </div>
        <span class="type d-block mt-3 mb-1">Card type</span
        ><label class="radio">
          <input type="radio" name="card" value="payment" checked />
          <span
            ><img
              width="30"
              src="https://img.icons8.com/color/48/000000/mastercard.png"
          /></span>
        </label>

        <label class="radio">
          <input type="radio" name="card" value="payment" />
          <span
            ><img
              width="30"
              src="https://img.icons8.com/officel/48/000000/visa.png"
          /></span>
        </label>

        <label class="radio">
          <input type="radio" name="card" value="payment" />
          <span
            ><img
              width="30"
              src="https://img.icons8.com/ultraviolet/48/000000/amex.png"
          /></span>
        </label>

        <label class="radio">
          <input type="radio" name="card" value="payment" />
          <span
            ><img
              width="30"
              src="https://img.icons8.com/officel/48/000000/paypal.png"
          /></span>
        </label>
        <div>
          <label class="credit-card-label">Name on card</label
          ><input
            type="text"
            class="form-control credit-inputs"
            placeholder="Name"
          />
        </div>
        <div>
          <label class="credit-card-label">Card number</label
          ><input
            type="text"
            class="form-control credit-inputs"
            placeholder="0000 0000 0000 0000"
          />
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="credit-card-label">Date</label
            ><input
              type="text"
              class="form-control credit-inputs"
              placeholder="12/24"
            />
          </div>
          <div class="col-md-6">
            <label class="credit-card-label">CVV</label
            ><input
              type="text"
              class="form-control credit-inputs"
              placeholder="342"
            />
          </div>
        </div>
        <hr class="line" />
        <div class="d-flex justify-content-between information">
          <span>Subtotal</span><span>$<%= viewModel.cartTotal ? viewModel.cartTotal.toFixed(2) : '0.00' %></span>
        </div>
        <div class="d-flex justify-content-between information">
          <span>Tax</span><span>$<%= viewModel.cartTotal ? (viewModel.cartTotal * 0.1).toFixed(2) : '0.00' %></span>
        </div>
        <div class="d-flex justify-content-between information">
          <span>Shipping</span><span style="color: green">FREE</span>
        </div>
        <div class="d-flex justify-content-between information">
          <span>Total</span><span>$<%= viewModel.cartTotal ? (viewModel.cartTotal + viewModel.cartTotal * 0.1).toFixed(2) : '0.00' %></span>
        </div>
        <button
          class="btn btn-block d-flex justify-content-between mt-3 mx-auto"
          type="button"
          id="log-in"
          <%=viewModel.meals.length ? "" : "disabled"%>
          onClick="window.location.href='/cart/checkout'"
        >
          <span>$<%= viewModel.cartTotal ? (viewModel.cartTotal + viewModel.cartTotal * 0.1).toFixed(2) : '0.00' %></span><span class="mx-2"
            >Checkout</span>
        </button>
        <span style="font-size: 0.45rem; font-weight: 400; line-height: 1;">Disclaimer: The card information entered is for demonstration purposes only and will not be used for real transactions.</span>
      </div>
    </div>
  </div>
</div>
